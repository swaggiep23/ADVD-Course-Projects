Version 4
SHEET 1 1188 680
WIRE -768 -192 -928 -192
WIRE -464 -192 -768 -192
WIRE -432 -192 -464 -192
WIRE -240 -192 -432 -192
WIRE -192 -192 -240 -192
WIRE 256 -192 -192 -192
WIRE 352 -192 256 -192
WIRE 560 -192 352 -192
WIRE -432 -160 -432 -192
WIRE -240 -160 -240 -192
WIRE 256 -160 256 -192
WIRE -336 -144 -384 -144
WIRE -288 -144 -336 -144
WIRE 208 -144 144 -144
WIRE 560 -128 560 -192
WIRE -464 -112 -464 -192
WIRE -432 -112 -464 -112
WIRE -192 -112 -192 -192
WIRE -192 -112 -240 -112
WIRE 352 -112 352 -192
WIRE 352 -112 256 -112
WIRE 640 -80 560 -80
WIRE -768 -48 -768 -192
WIRE -432 -48 -432 -64
WIRE -336 -48 -336 -144
WIRE -336 -48 -432 -48
WIRE 144 -48 144 -144
WIRE 256 -48 256 -64
WIRE 256 -48 144 -48
WIRE 512 -48 432 -48
WIRE -432 -32 -432 -48
WIRE -432 -32 -480 -32
WIRE -240 -32 -240 -64
WIRE -192 -32 -240 -32
WIRE 256 -32 256 -48
WIRE 352 -32 256 -32
WIRE -928 -16 -928 -192
WIRE -432 -16 -432 -32
WIRE -240 -16 -240 -32
WIRE 560 -16 560 -32
WIRE 640 -16 640 -80
WIRE 640 -16 560 -16
WIRE -336 0 -384 0
WIRE -288 0 -336 0
WIRE 256 0 256 -32
WIRE 208 16 0 16
WIRE -480 32 -480 -32
WIRE -432 32 -480 32
WIRE -192 32 -192 -32
WIRE -192 32 -240 32
WIRE 352 48 352 -32
WIRE 352 48 256 48
WIRE -928 80 -928 -16
WIRE -336 80 -336 0
WIRE -336 80 -432 80
WIRE -112 80 -240 80
WIRE 0 80 0 16
WIRE 0 80 -112 80
WIRE -768 96 -768 32
WIRE -688 96 -768 96
WIRE -496 96 -688 96
WIRE -176 96 -496 96
WIRE -768 112 -768 96
WIRE -432 112 -432 80
WIRE -240 112 -240 80
WIRE 256 112 256 96
WIRE 432 112 432 -48
WIRE 432 112 256 112
WIRE -768 160 -880 160
WIRE -336 160 -432 160
WIRE -240 160 -336 160
WIRE 560 160 560 -16
WIRE 752 160 560 160
WIRE 784 160 752 160
WIRE 0 176 0 80
WIRE 48 176 0 176
WIRE 160 176 128 176
WIRE 256 176 256 112
WIRE 256 176 224 176
WIRE -688 192 -688 96
WIRE -688 192 -720 192
WIRE -496 192 -496 96
WIRE -480 192 -496 192
WIRE -176 192 -176 96
WIRE -176 192 -192 192
WIRE -880 224 -880 160
WIRE -768 224 -768 208
WIRE -768 224 -880 224
WIRE -432 224 -432 208
WIRE -336 224 -336 160
WIRE -336 224 -432 224
WIRE -432 240 -432 224
WIRE -240 240 -240 208
WIRE 16 240 -160 240
WIRE -336 288 -432 288
WIRE -240 288 -336 288
WIRE 752 288 752 160
WIRE 560 304 560 160
WIRE -480 320 -512 320
WIRE -160 320 -160 240
WIRE -160 320 -192 320
WIRE -144 320 -160 320
WIRE 16 320 -64 320
WIRE 256 320 256 176
WIRE 640 352 560 352
WIRE -432 368 -432 336
WIRE -336 368 -336 288
WIRE -336 368 -432 368
WIRE -240 368 -240 336
WIRE -240 368 -336 368
WIRE 368 368 256 368
WIRE -768 384 -768 224
WIRE -688 384 -768 384
WIRE -512 384 -512 320
WIRE -160 384 -160 320
WIRE -160 384 -512 384
WIRE 16 384 16 320
WIRE 16 384 -64 384
WIRE 512 384 480 384
WIRE -768 400 -768 384
WIRE -336 400 -336 368
WIRE 208 400 128 400
WIRE 560 416 560 400
WIRE 640 416 640 352
WIRE 640 416 560 416
WIRE 752 416 752 352
WIRE -768 448 -880 448
WIRE -224 448 -336 448
WIRE 256 464 256 416
WIRE 368 464 368 368
WIRE 368 464 256 464
WIRE -688 480 -688 384
WIRE -688 480 -720 480
WIRE -496 480 -688 480
WIRE -384 480 -496 480
WIRE -880 512 -880 448
WIRE -768 512 -768 496
WIRE -768 512 -880 512
WIRE -336 512 -336 496
WIRE -224 512 -224 448
WIRE -224 512 -336 512
WIRE -496 528 -496 480
WIRE 128 528 128 400
WIRE 128 528 -496 528
WIRE 480 528 480 384
WIRE 480 528 128 528
WIRE -928 544 -928 160
WIRE -768 544 -768 512
WIRE -768 544 -928 544
WIRE -336 544 -336 512
WIRE -336 544 -768 544
WIRE -64 544 -64 384
WIRE -64 544 -336 544
WIRE -32 544 -64 544
WIRE 256 544 256 464
WIRE 256 544 -32 544
WIRE 560 544 560 416
WIRE 560 544 256 544
WIRE -32 576 -32 544
FLAG 784 160 outCM
IOPIN 784 160 Out
FLAG -32 576 0
FLAG 16 240 inCM
IOPIN 16 240 In
FLAG -112 80 Stage1CM
FLAG 432 -48 Stage2CM
FLAG -928 -16 PowerCM
IOPIN -928 -16 In
FLAG 752 416 0
SYMBOL nmos4 512 -128 R0
SYMATTR InstName M1
SYMATTR Value2 l={l} w=0.5u m=20
SYMBOL nmos4 512 304 R0
SYMATTR InstName M2
SYMATTR Value2 l={l} w=10u m=3
SYMBOL nmos4 -480 240 R0
SYMATTR InstName M3
SYMATTR Value2 l={l} w=0.5u m=1
SYMBOL nmos4 -192 240 M0
SYMATTR InstName M4
SYMATTR Value2 l={l} w=0.5u m=1
SYMBOL pmos4 -384 -64 R180
SYMATTR InstName M5
SYMATTR Value2 l={l} w=1u m=2
SYMBOL pmos4 -288 -64 M180
SYMATTR InstName M6
SYMATTR Value2 l={l} w=1u m=2
SYMBOL nmos4 -384 400 R0
SYMATTR InstName M7
SYMATTR Value2 l={l} w=2u
SYMBOL current -768 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 20µ
SYMBOL nmos4 -720 400 M0
SYMATTR InstName M8
SYMATTR Value2 l={l} w=10u
SYMBOL voltage -928 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VDD1
SYMATTR Value 2.5
SYMBOL voltage -160 320 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -42 56 VBottom 2
WINDOW 123 -2 206 VBottom 2
WINDOW 39 -1 235 VBottom 2
SYMATTR InstName Vin1
SYMATTR Value {V}
SYMBOL nmos4 -192 112 M0
SYMATTR InstName M9
SYMATTR Value2 l={l} w=0.5u m=1
SYMBOL nmos4 -480 112 R0
SYMATTR InstName M10
SYMATTR Value2 l={l} w=0.5u m=1
SYMBOL nmos4 208 320 R0
SYMATTR InstName M11
SYMATTR Value2 l={l} w=1u m=5
SYMBOL cap 224 160 R90
WINDOW 0 -3 33 VBottom 2
WINDOW 3 39 29 VTop 2
SYMATTR InstName C1
SYMATTR Value 50f
SYMBOL nmos4 -720 112 M0
SYMATTR InstName M12
SYMATTR Value2 l={l} w=1u
SYMBOL pmos4 -288 80 M180
SYMATTR InstName M13
SYMATTR Value2 l={l} w=1u m=1
SYMBOL pmos4 -384 80 R180
SYMATTR InstName M14
SYMATTR Value2 l={l} w=1u m=1
SYMBOL pmos4 208 -64 M180
SYMATTR InstName M15
SYMATTR Value2 l={l} w=0.5u m=25
SYMBOL pmos4 208 96 M180
SYMATTR InstName M16
SYMATTR Value2 l={l} w=0.5u m=10
SYMBOL res 144 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 60k
SYMBOL cap 736 288 R0
SYMATTR InstName C2
SYMATTR Value 100f
TEXT 888 -40 Left 2 ;.tran 1ms
TEXT 888 56 Left 2 !.temp 27
TEXT 888 -72 Left 2 ;.ac dec 100 1m 100G
TEXT 888 -104 Left 2 !.param l=400n
TEXT 888 -136 Left 2 !.lib mos018.txt
TEXT 888 -168 Left 2 ;Gain - V(out)/(V(in+)-V(in-))
TEXT 888 24 Left 2 !.tf V(outCM) Vin1
TEXT 888 -8 Left 2 !.step param V 0 3.3 0.01
