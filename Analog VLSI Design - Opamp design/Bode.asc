Version 4
SHEET 1 1500 680
WIRE -736 -336 -896 -336
WIRE -432 -336 -736 -336
WIRE -400 -336 -432 -336
WIRE -208 -336 -400 -336
WIRE -160 -336 -208 -336
WIRE 288 -336 -160 -336
WIRE 384 -336 288 -336
WIRE 592 -336 384 -336
WIRE -400 -304 -400 -336
WIRE -208 -304 -208 -336
WIRE 288 -304 288 -336
WIRE -304 -288 -352 -288
WIRE -256 -288 -304 -288
WIRE 240 -288 176 -288
WIRE 592 -272 592 -336
WIRE -432 -256 -432 -336
WIRE -400 -256 -432 -256
WIRE -160 -256 -160 -336
WIRE -160 -256 -208 -256
WIRE 384 -256 384 -336
WIRE 384 -256 288 -256
WIRE 672 -224 592 -224
WIRE -736 -192 -736 -336
WIRE -400 -192 -400 -208
WIRE -304 -192 -304 -288
WIRE -304 -192 -400 -192
WIRE 176 -192 176 -288
WIRE 288 -192 288 -208
WIRE 288 -192 176 -192
WIRE 544 -192 464 -192
WIRE -400 -176 -400 -192
WIRE -400 -176 -448 -176
WIRE -208 -176 -208 -208
WIRE -160 -176 -208 -176
WIRE 288 -176 288 -192
WIRE 384 -176 288 -176
WIRE -896 -160 -896 -336
WIRE -400 -160 -400 -176
WIRE -208 -160 -208 -176
WIRE 592 -160 592 -176
WIRE 672 -160 672 -224
WIRE 672 -160 592 -160
WIRE -304 -144 -352 -144
WIRE -256 -144 -304 -144
WIRE 288 -144 288 -176
WIRE 240 -128 32 -128
WIRE -448 -112 -448 -176
WIRE -400 -112 -448 -112
WIRE -160 -112 -160 -176
WIRE -160 -112 -208 -112
WIRE 384 -96 384 -176
WIRE 384 -96 288 -96
WIRE -896 -64 -896 -160
WIRE -304 -64 -304 -144
WIRE -304 -64 -400 -64
WIRE -80 -64 -208 -64
WIRE 32 -64 32 -128
WIRE 32 -64 -80 -64
WIRE -736 -48 -736 -112
WIRE -656 -48 -736 -48
WIRE -464 -48 -656 -48
WIRE -144 -48 -464 -48
WIRE -736 -32 -736 -48
WIRE -400 -32 -400 -64
WIRE -208 -32 -208 -64
WIRE 288 -32 288 -48
WIRE 464 -32 464 -192
WIRE 464 -32 288 -32
WIRE -736 16 -848 16
WIRE -304 16 -400 16
WIRE -208 16 -304 16
WIRE 592 16 592 -160
WIRE 784 16 592 16
WIRE 816 16 784 16
WIRE 32 32 32 -64
WIRE 80 32 32 32
WIRE 192 32 160 32
WIRE 288 32 288 -32
WIRE 288 32 256 32
WIRE -656 48 -656 -48
WIRE -656 48 -688 48
WIRE -464 48 -464 -48
WIRE -448 48 -464 48
WIRE -144 48 -144 -48
WIRE -144 48 -160 48
WIRE -848 80 -848 16
WIRE -736 80 -736 64
WIRE -736 80 -848 80
WIRE -400 80 -400 64
WIRE -304 80 -304 16
WIRE -304 80 -400 80
WIRE -480 96 -640 96
WIRE -400 96 -400 80
WIRE -208 96 -208 64
WIRE 48 96 -128 96
WIRE -304 144 -400 144
WIRE -208 144 -304 144
WIRE 784 144 784 16
WIRE 592 160 592 16
WIRE -576 176 -640 176
WIRE -480 176 -480 96
WIRE -480 176 -496 176
WIRE -448 176 -480 176
WIRE -128 176 -128 96
WIRE -128 176 -160 176
WIRE -112 176 -128 176
WIRE 48 176 -32 176
WIRE 288 176 288 32
WIRE 672 208 592 208
WIRE -400 224 -400 192
WIRE -304 224 -304 144
WIRE -304 224 -400 224
WIRE -208 224 -208 192
WIRE -208 224 -304 224
WIRE 400 224 288 224
WIRE -736 240 -736 80
WIRE -656 240 -736 240
WIRE -640 240 -640 176
WIRE -560 240 -640 240
WIRE 48 240 48 176
WIRE 48 240 -32 240
WIRE 544 240 512 240
WIRE -736 256 -736 240
WIRE -304 256 -304 224
WIRE 240 256 160 256
WIRE 592 272 592 256
WIRE 672 272 672 208
WIRE 672 272 592 272
WIRE 784 272 784 208
WIRE -736 304 -848 304
WIRE -192 304 -304 304
WIRE 288 320 288 272
WIRE 400 320 400 224
WIRE 400 320 288 320
WIRE -656 336 -656 240
WIRE -656 336 -688 336
WIRE -464 336 -656 336
WIRE -352 336 -464 336
WIRE -848 368 -848 304
WIRE -736 368 -736 352
WIRE -736 368 -848 368
WIRE -304 368 -304 352
WIRE -192 368 -192 304
WIRE -192 368 -304 368
WIRE -464 384 -464 336
WIRE 160 384 160 256
WIRE 160 384 -464 384
WIRE 512 384 512 240
WIRE 512 384 160 384
WIRE -896 400 -896 16
WIRE -736 400 -736 368
WIRE -736 400 -896 400
WIRE -560 400 -560 240
WIRE -560 400 -736 400
WIRE -304 400 -304 368
WIRE -304 400 -560 400
WIRE -32 400 -32 240
WIRE -32 400 -304 400
WIRE 0 400 -32 400
WIRE 288 400 288 320
WIRE 288 400 0 400
WIRE 592 400 592 272
WIRE 592 400 288 400
WIRE 0 432 0 400
FLAG 816 16 out
IOPIN 816 16 Out
FLAG 0 432 0
FLAG 48 96 in+
IOPIN 48 96 In
FLAG -640 96 in-
IOPIN -640 96 In
FLAG -80 -64 Stage1
FLAG 464 -192 Stage2
FLAG -896 -160 Power
IOPIN -896 -160 In
FLAG 784 272 0
SYMBOL nmos4 544 -272 R0
SYMATTR InstName M1
SYMATTR Value2 l={l} w=10u
SYMBOL nmos4 544 160 R0
SYMATTR InstName M2
SYMATTR Value2 l={l} w=30u
SYMBOL nmos4 -448 96 R0
SYMATTR InstName M7
SYMATTR Value2 l={l} w=0.5u m=1
SYMBOL nmos4 -160 96 M0
SYMATTR InstName M8
SYMATTR Value2 l={l} w=0.5u m=1
SYMBOL pmos4 -352 -208 R180
SYMATTR InstName M13
SYMATTR Value2 l={l} w=1u m=2
SYMBOL pmos4 -256 -208 M180
SYMATTR InstName M14
SYMATTR Value2 l={l} w=1u m=2
SYMBOL nmos4 -352 256 R0
SYMATTR InstName M6
SYMATTR Value2 l={l} w=2u
SYMBOL current -736 -192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 20µ
SYMBOL nmos4 -688 256 M0
SYMATTR InstName M16
SYMATTR Value2 l={l} w=10u
SYMBOL voltage -896 -80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VDD1
SYMATTR Value 2.5
SYMBOL voltage -480 176 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 -30 236 VTop 2
WINDOW 123 -2 254 VTop 2
WINDOW 39 -2 236 VTop 2
SYMATTR InstName Vin1
SYMATTR Value SINE(0.8 0.01m 1k 0 0 180)
SYMATTR Value2 AC 0.01m 180
SYMBOL voltage -128 176 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 27 235 VBottom 2
WINDOW 123 -2 206 VBottom 2
WINDOW 39 -1 235 VBottom 2
SYMATTR InstName Vin2
SYMATTR Value SINE(0.8 0.01m 1k 0 0 0)
SYMATTR Value2 AC 0.01m 0
SYMBOL nmos4 -160 -32 M0
SYMATTR InstName M10
SYMATTR Value2 l={l} w=0.5u m=1
SYMBOL nmos4 -448 -32 R0
SYMATTR InstName M9
SYMATTR Value2 l={l} w=0.5u m=1
SYMBOL nmos4 240 176 R0
SYMATTR InstName M5
SYMATTR Value2 l={l} w=5u
SYMBOL cap 256 16 R90
WINDOW 0 -3 33 VBottom 2
WINDOW 3 39 29 VTop 2
SYMATTR InstName C1
SYMATTR Value 50f
SYMBOL nmos4 -688 -32 M0
SYMATTR InstName M15
SYMATTR Value2 l={l} w=1u
SYMBOL pmos4 -256 -64 M180
SYMATTR InstName M12
SYMATTR Value2 l={l} w=1u m=1
SYMBOL pmos4 -352 -64 R180
SYMATTR InstName M11
SYMATTR Value2 l={l} w=1u m=1
SYMBOL pmos4 240 -208 M180
SYMATTR InstName M3
SYMATTR Value2 l={l} w=12.5u
SYMBOL pmos4 240 -48 M180
SYMATTR InstName M4
SYMATTR Value2 l={l} w=5u
SYMBOL res 176 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 60k
SYMBOL cap 768 144 R0
SYMATTR InstName C2
SYMATTR Value 100f
TEXT 880 -208 Left 2 ;.tran 1ms
TEXT 880 -176 Left 2 !.temp 0 27 100
TEXT 880 -240 Left 2 !.ac dec 100 1m 100G
TEXT 880 -272 Left 2 !.param l=400n
TEXT 880 -304 Left 2 !.lib mos018.txt
TEXT 880 -336 Left 2 ;Gain - V(out)/(V(in+)-V(in-))
TEXT 880 -112 Left 2 ;.op
TEXT 880 -144 Left 2 ;.tf V(out) Vin2
